<template>
  <article class="slds-card slds-var-p-around_small">
    <h1>Account Type-Ahead Search Demo LWC</h1>
    <div>
      <lightning-input label="Search for account" id="searchFor" onkeyup={handleKeyUp} value={searchString}></lightning-input>
    </div>

    <template if:true={showResults}>
      <h2>Search Results:</h2>
      <template for:each={searchResults} for:item="searchResult">
        <c-account-type-ahead-search-link indentlevel='0' key={searchResult.key} link={searchResult.link} name={searchResult.name}>
        </c-account-type-ahead-search-link>
        <template for:each={searchResult.contacts} for:item="searchContact">
          <c-account-type-ahead-search-link indentlevel='1' key={searchContact.key} link={searchContact.link} name={searchContact.name}>
          </c-account-type-ahead-search-link>
        </template>
      </template>
      <template if:false={searchResults.length}>
        <h2>No matching accounts</h2>
      </template>
    </template>
  </article>
</template>